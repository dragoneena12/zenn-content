---
title: "DMX512ã‚’ä½¿ã£ã¦ãƒ†ãƒ¼ãƒ—ãƒ©ã‚¤ãƒˆã‚’åˆ¶å¾¡ã—ã¦ã¿ã‚‹"
emoji: "ğŸŒˆ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["DMX512", "WS2812B", "Arduino"]
published: true
---

## ã¯ã˜ã‚ã«

ã“ã‚“ã«ã¡ã¯ã€Lapiï¼ˆ[@dragoneena12](https://github.com/dragoneena12)ï¼‰ã§ã™ã€‚ã‚¹ãƒ†ãƒ¼ã‚¸ç…§æ˜ã£ã¦è‰¯ã„ã§ã™ã‚ˆã­ã€‚ã§ã‚‚æ©ŸæãŒãªã„ã®ã§è‡ªä½œã—ã¦ã¿ã¾ã—ãŸã€‚

![demo](https://storage.googleapis.com/zenn-user-upload/1104b768c081-20231228.gif)

å‚™å¿˜éŒ²ã‚‚å…¼ã­ã¦ä½œã‚Šæ–¹ã‚’æ›¸ã„ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ï¼

## ææ–™

| ææ–™åï¼ˆãƒªãƒ³ã‚¯ã¯å‚è€ƒï¼‰ | ä¾¡æ ¼ | ç”¨é€”ç­‰ |
| ---- | ---- | ---- |
| [Arduino Nano Every](https://akizukidenshi.com/catalog/g/gM-14848/) | 2,360 | DMXä¿¡å·ã‚’å—ä¿¡ã—ã¦ãƒ†ãƒ¼ãƒ—ãƒ©ã‚¤ãƒˆã«ä¿¡å·ã‚’é€ã‚‹ã€‚ATmega328Pã¨ã‹ã‚’ä½¿ãˆã°ã‚‚ã£ã¨å®‰ããªã‚‹ã¯ãšã€‚ |
| [LTC485CN8](https://akizukidenshi.com/catalog/g/gI-02792/) | 250 | RS485ãƒˆãƒ©ãƒ³ã‚·ãƒ¼ãƒã€‚ |
| [USB-DMX ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ–ãƒ«](https://www.amazon.co.jp/dp/B07WV6P5W6/) | 2,399 | PCã‹ã‚‰DMXä¿¡å·ã‚’å‡ºåŠ›ã™ã‚‹ã€‚ |
| [XLR ã‚ªã‚¹ã‚³ãƒã‚¯ã‚¿](https://www.soundhouse.co.jp/products/detail/item/56110/) | 520 | ã‚­ãƒ£ãƒãƒ³ã‚³ãƒã‚¯ã‚¿ã®æ¥ç¶šéƒ¨åˆ†ã€‚ |
| [WS2812B ãƒ†ãƒ¼ãƒ—ãƒ©ã‚¤ãƒˆ](https://www.amazon.co.jp/dp/B088JWT7VT/) | 899 | å®Ÿéš›å…‰ã‚‹éƒ¨åˆ†ã€‚å°‘ã—é«˜ã„ãŒ1m144LEDã®ã‚‚ã®ã‚‚ã‚ã‚‹ã€‚ |
| [USB Type-C ã‚³ãƒã‚¯ã‚¿ DIP åŒ–ã‚­ãƒƒãƒˆ](https://akizukidenshi.com/catalog/g/gK-15426/) | 180 | USB Type-C ã‚’é›»æºã¨ã—ã¦ä½¿ã†ã€‚ |
| [ãƒ•ãƒ©ãƒƒãƒˆãƒ¢ãƒ¼ãƒ«](https://www.biccamera.com/bc/item/1375717/) | 260 | ãƒ†ãƒ¼ãƒ—ãƒ©ã‚¤ãƒˆã‚’è²¼ã‚Šä»˜ã‘ã‚‹åœŸå°ã€‚ |

## å›è·¯å›³

![å›è·¯å›³](https://storage.googleapis.com/zenn-user-upload/37f91c97ac24-20231220.png)

## Arduino ãƒ—ãƒ­ã‚°ãƒ©ãƒ ä½œæˆ

### ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ä»¥ä¸‹ã®2ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ãã‚Œãã‚Œzipã§è½ã¨ã—ã¦å±•é–‹ã—ã€`~/Documents/Arduino/libraries/` ä»¥ä¸‹ã«é…ç½®ã™ã‚Œã°OKã§ã™ã€‚

- [DMXSerial](https://github.com/mathertel/DMXSerial)
- [Adafruit_NeoPixel](https://github.com/adafruit/Adafruit_NeoPixel)

### ãƒ—ãƒ­ã‚°ãƒ©ãƒ ä½œæˆ

ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’Arduinoã«æ›¸ãè¾¼ã¿ã¾ã™ã€‚

```cpp
#include <DMXSerial.h>
#include <Adafruit_NeoPixel.h>

const int LED_PIN = 3;
const int LED_COUNT = 60;

Adafruit_NeoPixel pixels(LED_COUNT, LED_PIN, NEO_GRB + NEO_KHZ800);

const int startChannel = 1;

void setup() {
  DMXSerial.init(DMXProbe);
  pixels.begin();
}


void loop() {
  unsigned long lastPacket = DMXSerial.noDataSince();
  pixels.clear();
  DMXSerial.receive();

  if (lastPacket < 5000) {
    for(int i=0; i<LED_COUNT; i++) {
      int var_r = DMXSerial.read(startChannel + 3 * i);
      int var_g = DMXSerial.read(startChannel + 3 * i + 1);
      int var_b = DMXSerial.read(startChannel + 3 * i + 2);
      pixels.setPixelColor(i, pixels.Color(var_r, var_g, var_b));
    }
  } else {
    for(int i=0; i<LED_COUNT; i++) {
      pixels.setPixelColor(i, pixels.Color(0, 0, 0));
    }
  }
  pixels.show();
}
```

## é…ç·š

![é…ç·šå†™çœŸ](https://storage.googleapis.com/zenn-user-upload/78599179ed8b-20231228.jpg)

ã“ã¡ã‚‰ã®å†™çœŸã®ã‚ˆã†ã«ã€é›»æºç”¨ã®USB Type-Cã‚±ãƒ¼ãƒ–ãƒ«ãŠã‚ˆã³DMXã‚±ãƒ¼ãƒ–ãƒ«ã‚’æ¥ç¶šã—ã¾ã™ã€‚

## QLC+ã®è¨­å®š

[å…¬å¼ã‚µã‚¤ãƒˆ](https://www.qlcplus.org/) ã‚ˆã‚ŠQLC+ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

![RGB Panel](https://storage.googleapis.com/zenn-user-upload/4efff6cf343d-20231228.png)

ã€Œæ©Ÿå™¨ã€ã‚ˆã‚ŠRGBãƒ‘ãƒãƒ«ã‚’è¿½åŠ ã—ã€ä¸Šå›³ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚

![DMX USB](https://storage.googleapis.com/zenn-user-upload/3056863ce9a0-20231228.png)

ã€Œå…¥åŠ›/å‡ºåŠ›è¨­å®šã€ã§DMX USBã®å‡ºåŠ›ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¾ã™ã€‚

![Function](https://storage.googleapis.com/zenn-user-upload/ec4e141d45c5-20231228.png)

ã€Œãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã€ã‚ˆã‚ŠRGBãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã‚’è¿½åŠ ã—ã€ä¸Šè¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚

ä»¥ä¸Šã§å†’é ­ã®ãƒ‡ãƒ¢æ˜ åƒã®ã‚ˆã†ã«ãƒ†ãƒ¼ãƒ—ãƒ©ã‚¤ãƒˆã‚’ã„ã„æ„Ÿã˜ã«å…‰ã‚‰ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼

## ãŠã‚ã‚Šã«

DMXä¿¡å·ã§å‹•ãç…§æ˜æ©Ÿå™¨ã‚’è‡ªä½œã—ã¦ã¿ã¦ã€ä¸–ã®ä¸­ã®ç…§æ˜ãŒã©ã†ã‚„ã£ã¦å‹•ã„ã¦ã„ã‚‹ã®ã‹ãŒãªã‚“ã¨ãªãåˆ†ã‹ã£ã¦ãã¾ã—ãŸã€‚

ä»Šå›ç´¹ä»‹ã—ãŸæ–¹æ³•ã§ã‚ã‚Œã°ã‹ãªã‚Šæ‰‹è»½ã«ã§ãã‚‹ã®ã§ãœã²ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã¦ãã ã•ã„ï¼

## å‚è€ƒ
- [Arduinoã§DMXã‚’å—ä¿¡ã™ã‚‹](https://hikoleaf.hatenablog.jp/entry/2019/05/26/124746)
- [Type-C Currentã§USBã‚’ä½¿ã†ã€Type-Cã‚³ãƒã‚¯ã‚¿ã‹ã‚‰é›»æºã‚’å–ã‚Šå‡ºã™ã€é€†å¼•ãå›è·¯è¨­è¨ˆã€‘](https://voltechno.com/blog/type-c-current/)
- [Arduinoã¨ã‚·ãƒªã‚¢ãƒ«LEDï¼ˆWS2812Bï¼‰](https://101010.fun/iot/arduino-serial-led.html)
